@{
    ViewBag.Title = "Book store example with angular js.";
}
@section scripts{
    @*Here I gave path for app.js file to access the code.*@
    <script src="~/Scripts/app/app.js"></script>
}

<html ng-app="bookStoreAppModuleyApp">
<head>
    <title>Books</title>
    @*NOTE: Here we need to follow the flow i.e first we need to mention the angular.min.js file after that we need to mention our own .js files.*@
    @*<script src="~/scripts/jquery-1.8.2.min.js"></script>
        <script src="~/scripts/angular.min.js"></script>
        <script src="~/scripts/app/app.js"></script>
        <link href="~/Content/bootstrap.css" rel="stylesheet" />*@
</head>
<body>
    <div>
        <div><p><h2>In simple terms two-way data binding is when the model changes, the view reflects the change, and vice versa. Two-way bindings in AngularJS are created with the ng-model directive. Practically, two-way bindings can be applied only to those elements that allow the user to provide a data value, which means the input, textarea, and select elements. </h2></p></div>
        <div ng-controller="bookStoreController">
            <br />
            <div style="padding-top:15px;">
                <table border="1" class="mytable">
                    <tr>
                        <td>ISBN</td>
                        <td>Name</td>
                        <td>Price</td>
                        <td>Quantity</td>
                        <td>Total Price</td>
                        <td>Action</td>
                    </tr>
                    <tr ng-repeat="item in items">
                        <td>{{item.ISBN}}</td>
                        <td>
                            <span ng-hide="editMode">{{item.Name}}</span>
                            <input type="text" ng-show="editMode" ng-model="item.Name" />
                        </td>
                        <td>
                            <span ng-hide="editMode">{{item.Price}}</span>
                            <input type="number" ng-show="editMode" ng-model="item.Price" />
                        </td>
                        <td>
                            <span ng-hide="editMode">{{item.Quantity}}</span>
                            <input type="number" ng-show="editMode" ng-model="item.Quantity" />
                        </td>
                        <td>{{(item.Quantity) * (item.Price)}}</td>
                        <td>
                            <span> <button type="submit" ng-hide="editMode" ng-click="editMode = true; editItem(item)">Edit</button></span>
                            <span> <button type="submit" ng-show="editMode" ng-click="editMode = false; saveField(item)">Save</button></span>
                            <span><input type="button" value="Delete" ng-click="removeItem($index)" /></span>
                        </td>
                    </tr>

                </table>
            </div>
            <br />
            <div style="font-weight:bold">Grand Total: {{totalPrice()}}</div>
            <br />
        </div>
    </div>
</body>
</html>
